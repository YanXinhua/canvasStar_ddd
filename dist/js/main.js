/*!
 * @project : canvasStar
 * @version : 0.0.1
 * @author  : 
 * @update  : 2017-08-09 5:39:19 pm
 */!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="./js/",n(0)}([function(t,n,e){function o(t){return t&&t.__esModule?t:{"default":t}}var r=e(1),i=o(r),a=e(38),c=o(a),s=e(39),u=o(s),f=e(43),h=o(f),l=e(44),d=o(l),v=e(45),m=o(v);window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame,window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var x=!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/),p=function(){function t(){var n=arguments.length<=0||void 0===arguments[0]?"j-canvas":arguments[0];(0,c["default"])(this,t),this.canvas=document.getElementById(n),this.ctx=this.canvas.getContext("2d"),this.canvas.width=document.documentElement.clientWidth,this.canvas.height=document.documentElement.clientHeight,this.stars=[],this.dots=[],this.animateId=null;for(var e=0;e<h["default"].star.max_num;e++)this.stars.push(new d["default"]({id:e,ctx:this.ctx,x:Math.floor(Math.random()*this.canvas.width),y:Math.floor(Math.random()*this.canvas.height),r:Math.floor(Math.random()*h["default"].star.max_r)}));this.moveEvent(),this.animate()}return(0,u["default"])(t,[{key:"stopAnimate",value:function(){cancelAnimationFrame(this.animateId),this.animateId=null}},{key:"clear",value:function(){var t=this.ctx;t.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"animate",value:function(){var t=this;this.clear();for(var n in this.stars)this.stars[n].move();for(var e in this.dots)this.dots[e].move(),this.linkDots(this.dots[e]);this.animateId=requestAnimationFrame(function(){return t.animate()})}},{key:"drawDots",value:function(t){t=(0,i["default"])({id:this.dots.length,ctx:this.ctx,x:Math.floor(Math.random()*this.canvas.width/2),y:Math.floor(Math.random()*this.canvas.height/2),r:Math.floor(Math.random()*h["default"].dot.max_r)},t),this.dots.push(new m["default"]({id:t.id,ctx:this.ctx,x:t.x,y:t.y,r:Math.floor(Math.random()*h["default"].dot.max_r)}))}},{key:"moveEvent",value:function(){var t=this;x?document.addEventListener("touchmove",function(n){n.preventDefault(),t.dots.length>0&&!t.dots[t.dots.length-1].show&&(t.dots=[]);var e=n.touches[0].pageX+Math.random()*h["default"].dot.max_gap,o=n.touches[0].pageY+Math.random()*h["default"].dot.max_gap;t.drawDots({x:e,y:o})}):window.addEventListener("mousemove",function(n){t.dots.length>0&&!t.dots[t.dots.length-1].show&&(t.dots=[]);var e=n.clientX+Math.random()*h["default"].dot.max_gap,o=n.clientY+Math.random()*h["default"].dot.max_gap;t.drawDots({x:e,y:o})})}},{key:"getPreviousDot",value:function(t,n){return!(0==t||t-n<0)&&(!("undefined"==typeof this.dots[t-n]||!this.dots[t-n].show)&&this.dots[t-n])}},{key:"linkDots",value:function(t){var n=this.ctx;if(0==t.conf.id)return!1;var e=this.getPreviousDot(t.conf.id,1),o=this.getPreviousDot(t.conf.id,2),r=this.getPreviousDot(t.conf.id,3),i=this.getPreviousDot(t.conf.id,4);return!!e&&(n.strokeStyle=h["default"].dot.linkColor,n.moveTo(e.conf.x,e.conf.y),n.beginPath(),n.lineTo(t.conf.x,t.conf.y),0!=o&&n.lineTo(o.conf.x,o.conf.y),0!=r&&n.lineTo(r.conf.x,r.conf.y),0!=i&&n.lineTo(i.conf.x,i.conf.y),n.stroke(),void n.closePath())}},{key:"drawPolygon",value:function(){var t=arguments.length<=0||void 0===arguments[0]?3:arguments[0];this.stopAnimate();var n=this.ctx,e=150,o=150,r=100;n.beginPath(),n.fillStyle="white",n.strokeStyle="#fff";for(var i=2*Math.PI/t,a=0;a<t;a++)n.lineTo(e+Math.sin(a*i)*r,o+Math.cos(a*i)*r);n.closePath(),n.stroke()}}]),t}();window.app=new p},function(t,n,e){t.exports={"default":e(2),__esModule:!0}},function(t,n,e){e(3),t.exports=e(6).Object.assign},function(t,n,e){var o=e(4);o(o.S+o.F,"Object",{assign:e(19)})},function(t,n,e){var o=e(5),r=e(6),i=e(7),a=e(9),c="prototype",s=function(t,n,e){var u,f,h,l=t&s.F,d=t&s.G,v=t&s.S,m=t&s.P,x=t&s.B,p=t&s.W,y=d?r:r[n]||(r[n]={}),w=y[c],g=d?o:v?o[n]:(o[n]||{})[c];d&&(e=n);for(u in e)f=!l&&g&&void 0!==g[u],f&&u in y||(h=f?g[u]:e[u],y[u]=d&&"function"!=typeof g[u]?e[u]:x&&f?i(h,o):p&&g[u]==h?function(t){var n=function(n,e,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,o)}return t.apply(this,arguments)};return n[c]=t[c],n}(h):m&&"function"==typeof h?i(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[u]=h,t&s.R&&w&&!w[u]&&a(w,u,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n,e){var o=e(8);t.exports=function(t,n,e){if(o(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,o){return t.call(n,e,o)};case 3:return function(e,o,r){return t.call(n,e,o,r)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var o=e(10),r=e(18);t.exports=e(14)?function(t,n,e){return o.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var o=e(11),r=e(13),i=e(17),a=Object.defineProperty;n.f=e(14)?Object.defineProperty:function(t,n,e){if(o(t),n=i(n,!0),o(e),r)try{return a(t,n,e)}catch(c){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var o=e(12);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(14)&&!e(15)(function(){return 7!=Object.defineProperty(e(16)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){t.exports=!e(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n,e){var o=e(12),r=e(5).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,n,e){var o=e(12);t.exports=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){"use strict";var o=e(20),r=e(35),i=e(36),a=e(37),c=e(24),s=Object.assign;t.exports=!s||e(15)(function(){var t={},n={},e=Symbol(),o="abcdefghijklmnopqrst";return t[e]=7,o.split("").forEach(function(t){n[t]=t}),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=o})?function(t,n){for(var e=a(t),s=arguments.length,u=1,f=r.f,h=i.f;s>u;)for(var l,d=c(arguments[u++]),v=f?o(d).concat(f(d)):o(d),m=v.length,x=0;m>x;)h.call(d,l=v[x++])&&(e[l]=d[l]);return e}:s},function(t,n,e){var o=e(21),r=e(34);t.exports=Object.keys||function(t){return o(t,r)}},function(t,n,e){var o=e(22),r=e(23),i=e(27)(!1),a=e(31)("IE_PROTO");t.exports=function(t,n){var e,c=r(t),s=0,u=[];for(e in c)e!=a&&o(c,e)&&u.push(e);for(;n.length>s;)o(c,e=n[s++])&&(~i(u,e)||u.push(e));return u}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var o=e(24),r=e(26);t.exports=function(t){return o(r(t))}},function(t,n,e){var o=e(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var o=e(23),r=e(28),i=e(30);t.exports=function(t){return function(n,e,a){var c,s=o(n),u=r(s.length),f=i(a,u);if(t&&e!=e){for(;u>f;)if(c=s[f++],c!=c)return!0}else for(;u>f;f++)if((t||f in s)&&s[f]===e)return t||f||0;return!t&&-1}}},function(t,n,e){var o=e(29),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,n){var e=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:e)(t)}},function(t,n,e){var o=e(29),r=Math.max,i=Math.min;t.exports=function(t,n){return t=o(t),t<0?r(t+n,0):i(t,n)}},function(t,n,e){var o=e(32)("keys"),r=e(33);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,n,e){var o=e(5),r="__core-js_shared__",i=o[r]||(o[r]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+o).toString(36))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var o=e(26);t.exports=function(t){return Object(o(t))}},function(t,n){"use strict";n.__esModule=!0,n["default"]=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var r=e(40),i=o(r);n["default"]=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i["default"])(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}()},function(t,n,e){t.exports={"default":e(41),__esModule:!0}},function(t,n,e){e(42);var o=e(6).Object;t.exports=function(t,n,e){return o.defineProperty(t,n,e)}},function(t,n,e){var o=e(4);o(o.S+o.F*!e(14),"Object",{defineProperty:e(10).f})},function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={star:{max_num:100,max_r:5,move_distance:.5},dot:{move_max_distance:1,a_reduce:.005,max_r:4,max_angle:Math.PI,linkColor:"rgba(255,255,255,0.3)",max_gap:50,min_r:1}}},function(t,n,e){function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(1),i=o(r),a=e(38),c=o(a),s=e(39),u=o(s),f=e(43),h=o(f),l=function(){function t(n){return(0,c["default"])(this,t),this.conf=(0,i["default"])({x:0,y:0,r:h["default"].star.max_r,R:255,G:255,B:255,Alpha:1,shadowColor:"#fff",ctx:null},n),this.conf.ctx?(this.conf.Alpha=this.conf.r/(h["default"].star.max_r-1),this.cacheCanvas=document.createElement("canvas"),this.cacheCtx=this.cacheCanvas.getContext("2d"),this.cacheCtx.width=6*this.conf.r,this.cacheCtx.height=6*this.conf.r,this.cache(),void this.draw()):(console.error("必需传入ctx参数"),!1)}return(0,u["default"])(t,[{key:"cache",value:function(){this.cacheCtx.save(),this.cacheCtx.fillStyle="rgba("+this.conf.R+","+this.conf.G+","+this.conf.B+","+this.conf.Alpha+")",this.cacheCtx.shadowColor=this.conf.shadowColor,this.cacheCtx.shadowBlur=2*this.conf.r,this.cacheCtx.beginPath(),this.cacheCtx.arc(3*this.conf.r,3*this.conf.r,this.conf.r,0,2*Math.PI),this.cacheCtx.closePath(),this.cacheCtx.fill(),this.cacheCtx.restore()}},{key:"draw",value:function(){this.conf.ctx.drawImage(this.cacheCanvas,this.conf.x,this.conf.y)}},{key:"move",value:function(){this.conf.y-=h["default"].star.move_distance,this.conf.y<=-10&&(this.conf.y+=this.conf.ctx.canvas.height+10),this.draw()}}]),t}();n["default"]=l},function(t,n,e){function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(1),i=o(r),a=e(38),c=o(a),s=e(39),u=o(s),f=e(43),h=o(f),l=function(){function t(n){return(0,c["default"])(this,t),this.show=!0,this.conf=(0,i["default"])({x:0,y:0,r:h["default"].dot.max_r,R:255,G:255,B:255,Alpha:1,shadowColor:"#fff",ctx:null},n),this.conf.Alpha=this.conf.r/(h["default"].dot.max_r-1)>0?this.conf.r/(h["default"].dot.max_r-1):.5,this.conf.ctx?(this.conf.r<h["default"].dot.min_r&&(this.conf.r=h["default"].dot.min_r),this.move_angle=Math.random()*h["default"].dot.max_angle,this.cacheCanvas=document.createElement("canvas"),this.cacheCtx=this.cacheCanvas.getContext("2d"),this.cacheCtx.width=6*this.conf.r,this.cacheCtx.height=6*this.conf.r,this.cache(),void this.draw()):(console.error("必需传入ctx参数"),!1)}return(0,u["default"])(t,[{key:"cache",value:function(){this.cacheCtx.save(),this.cacheCtx.fillStyle="rgba("+this.conf.R+","+this.conf.G+","+this.conf.B+","+this.conf.Alpha+")",this.cacheCtx.shadowColor=this.conf.shadowColor,this.cacheCtx.shadowBlur=2*this.conf.r,this.cacheCtx.beginPath(),this.cacheCtx.arc(3*this.conf.r,3*this.conf.r,this.conf.r,0,2*Math.PI),this.cacheCtx.closePath(),this.cacheCtx.fill(),this.cacheCtx.restore()}},{key:"draw",value:function(){return!!this.show&&void this.conf.ctx.drawImage(this.cacheCanvas,this.conf.x-3*this.conf.r,this.conf.y-3*this.conf.r)}},{key:"remove",value:function(){this.show=!1}},{key:"move",value:function(){return this.conf.Alpha<=0?(this.remove(),!1):(this.conf.x+=h["default"].dot.move_max_distance*Math.cos(this.move_angle),this.conf.y-=h["default"].dot.move_max_distance*Math.sin(this.move_angle),this.conf.Alpha-=h["default"].dot.a_reduce,this.draw(),void 0)}}]),t}();n["default"]=l}]);